{% extends "admin_base.html" %}

{% block title %}
Students
{% endblock %}

{% block admin_content %}

<table class="table table-hover">
    <thead>
        <tr>
        <th scope="col">#</th>
        <th scope="col">Course</th>
        <th scope="col">Name</th>
        <th scope="col">#Instances</th>
        <th scope="col">Admin</th>
        <th scope='col'></th>
        </tr>
    </thead>
    <tbody>
{% for student in students %}
    <tr>
        <th scope="row">{{student.mat_num}}</th>
        <td>{{student.course_of_studies.value}}</td>
        <td>{{student.first_name}}, {{student.surname}}</td>
        <td>
            {{ student.exercise_instances|length }}
        </td>
        <td>{{student.is_admin}}</td>
        <td>
            <div class="btn-group">
            <a role="button" class="btn btn-outline-success" href="{{ url_for('ref.student_view_single', user_id=student.id) }}">View</a>
            {% if student.exercise_instances|length %}
                <a role="button" class="btn btn-outline-success" href="{{ url_for('ref.instances_by_user_id', user_id=student.id) }}">Instances</a>
            {% endif %}
            <a role="button" class="btn btn-outline-success" href="{{ url_for('ref.student_edit', user_id=student.id, next=request.path) }}">Edit</a>
            <a role="button" class="btn btn-outline-danger" href="{{ url_for('ref.student_delete', user_id=student.id, next=request.path) }}">Delete</a>
        </div>
        </td>
    </tr>
{% endfor %}
  </tbody>
</table>

{% endblock %}